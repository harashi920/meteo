âœ… å®Ÿè£…ã®æµã‚Œï¼ˆã¾ã¨ã‚ï¼‰
ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã§ãƒ“ãƒ¼ãƒ ç™ºå°„ï¼ˆpBase_Click() å†…ã§ï¼‰

ãƒ“ãƒ¼ãƒ ãŒç”»é¢ã‚’ä¸Šæ˜‡ã—ã€éš•çŸ³ã¨å½“ãŸã‚‹ã¨ç ´å£Š

ä¸€åº¦ã«1æœ¬ã ã‘ç™ºå°„ã§ãã‚‹ï¼ˆâ€»é€£å°„åˆ¶é™ï¼‰

ğŸ”§ 1. å¤‰æ•°ã®è¿½åŠ ï¼ˆã‚¯ãƒ©ã‚¹ã®å…ˆé ­ä»˜è¿‘ï¼‰
csharp
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
int beamX, beamY;         // ãƒ“ãƒ¼ãƒ ã®ä½ç½®
bool beamActive = false;  // ãƒ“ãƒ¼ãƒ ãŒå­˜åœ¨ã—ã¦ã„ã‚‹ã‹
int beamCoolTime = 0;     // ã‚¯ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ ç”¨ã‚«ã‚¦ãƒ³ã‚¿
int beamInterval = 20;    // ã‚¯ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ åˆ¶é™ï¼ˆ20ãƒ•ãƒ¬ãƒ¼ãƒ ãªã©ï¼‰
ğŸ§© 2. pBase_Click() å†…ã®ä¿®æ­£ï¼ˆã‚¯ãƒªãƒƒã‚¯æ™‚ã«ç™ºå°„ï¼‰
csharp
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
private void pBase_Click(object sender, EventArgs e)
{
    if (titleFlg)
    {
        if (msgcnt > 20)
        {
            msgcnt = 0;
            titleFlg = false;
        }
        return;
    }

    if (msgcnt > 80)
    {
        initGame();
    }

    // ã“ã“ã«ãƒ“ãƒ¼ãƒ ç™ºå°„å‡¦ç†ã‚’è¿½åŠ 
    if (!beamActive && beamCoolTime >= beamInterval)
    {
        beamX = Cpos.X + (PW / 2) - 2;  // è‡ªæ©Ÿã®ä¸­å¿ƒã‹ã‚‰ç™ºå°„
        beamY = 220;                    // è‡ªæ©Ÿã®é«˜ã•ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ
        beamActive = true;
        beamCoolTime = 0;
    }
}
ğŸ§© 3. timer1_Tick() ã«ãƒ“ãƒ¼ãƒ å‡¦ç†ã‚’è¿½åŠ 
// éš•çŸ³ã®ç§»å‹•ã®å¾Œã‹ã€score++; ã®å‰ãªã©ã«è¿½è¨˜ã—ã¾ã™ã€‚

csharp
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
// ãƒ“ãƒ¼ãƒ å‡¦ç†
if (beamActive)
{
    beamY -= 15;
    gg.FillRectangle(Brushes.Cyan, beamX, beamY, 5, 20); // ãƒ“ãƒ¼ãƒ ã®æç”»

    // ãƒ“ãƒ¼ãƒ ã¨éš•çŸ³ã®å½“ãŸã‚Šåˆ¤å®š
    for (int i = 0; i < 10; i++)
    {
        int ecx = enX[i] + RR;
        int ecy = enY[i] + RR;
        int dis = (ecx - (beamX + 2)) * (ecx - (beamX + 2)) + (ecy - (beamY + 10)) * (ecy - (beamY + 10));
        if (dis < RR * RR)
        {
            // éš•çŸ³ã‚’ç ´å£Šï¼ˆå†é…ç½®ï¼‰
            enX[i] = rand.Next(1, 450);
            enY[i] = rand.Next(1, 300) - 400;
            beamActive = false;
            break;
        }
    }

    // ç”»é¢å¤–ã§ãƒ“ãƒ¼ãƒ æ¶ˆæ»…
    if (beamY < 0)
    {
        beamActive = false;
    }
}
else
{
    beamCoolTime++;
}
ğŸ§© 4. initGame() ã«ãƒªã‚»ãƒƒãƒˆå‡¦ç†ã‚’è¿½åŠ 
csharp
ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã™ã‚‹
beamActive = false;
beamCoolTime = 0;
âœ… ã“ã‚Œã§ã§ãã‚‹ã“ã¨
ã‚¯ãƒªãƒƒã‚¯ã§1ç™ºãšã¤ãƒ“ãƒ¼ãƒ ã‚’ç™ºå°„

éš•çŸ³ã«å½“ãŸã‚Œã°ç ´å£Šï¼ˆå†å‡ºç¾ï¼‰

ç”»é¢å¤–ã«å‡ºãŸã‚‰æ¶ˆãˆã‚‹

ä¸€å®šæ™‚é–“ï¼ˆã‚¯ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ ï¼‰çµŒéã—ãªã„ã¨é€£å°„ã§ããªã„

ğŸ¨ ã‚ªãƒ—ã‚·ãƒ§ãƒ³
gg.FillRectangle(...) â†’ ç”»åƒã‚’ä½¿ã„ãŸã„ãªã‚‰ pBeam.Image ã‚’ DrawImage() ã§æç”»å¯èƒ½ã€‚

ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚„éŸ³è¿½åŠ ã‚‚å¯èƒ½ã§ã™ã€‚

å¿…è¦ãŒã‚ã‚Œã°ä»¥ä¸‹ã®ã‚ˆã†ãªå¼·åŒ–ã‚‚ã§ãã¾ã™ï¼š

ãƒ“ãƒ¼ãƒ ã®æ•°åˆ¶é™ãƒ»è¤‡æ•°ç™ºå°„

éš•çŸ³ãŒç ´å£Šã•ã‚ŒãŸã¨ãã‚¹ã‚³ã‚¢è¿½åŠ 

ãƒ“ãƒ¼ãƒ ã«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’ã¤ã‘ã‚‹

